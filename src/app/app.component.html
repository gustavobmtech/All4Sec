<div class="digicert-theme">
  <div class="top-bar">
    <div class="top-bar-content">
      <span class="support-text">{{ t().topbar.support }}: <strong>{{ t().topbar.phone }}</strong></span>
      
      <div class="right-actions">
        <div class="top-links">
          <a href="#">{{ t().topbar.portal }}</a>
          <a href="#">{{ t().topbar.validation }}</a>
        </div>
  
        <div class="lang-selector">
          <button class="lang-btn" (click)="toggleLangMenu()">
            <img [src]="currentLang.flagUrl" alt="Flag" class="flag-icon">
            {{ currentLang.code }} 
            <span class="arrow">▼</span>
          </button>
          
          @if (isLangMenuOpen) {
            <ul class="lang-dropdown">
              @for (lang of languages; track lang.code) {
                <li (click)="setLanguage(lang)">
                  <img [src]="lang.flagUrl" alt="{{ lang.name }}" class="flag-icon"> 
                  {{ lang.name }}
                </li>
              }
            </ul>
          }
        </div>
      </div>
    </div>
  </div>

  <nav class="main-nav">
    <div class="nav-container">
      <img src="all4seclogo2.png" alt="All4Sec Logo" class="logo">
      <ul class="nav-menu">
        <li (click)="openModal(t().nav.code)">{{ t().nav.code }}</li>
        <li (click)="openModal(t().nav.ssl)">{{ t().nav.ssl }}</li>
        <li (click)="openModal(t().nav.doc)">{{ t().nav.doc }}</li>
      </ul>
      <div class="nav-actions">
        <button class="btn-buy" (click)="openModal('Aquisição Direta')">{{ t().nav.buy }}</button>
      </div>
    </div>
  </nav>

  <header class="hero-section">
    <div class="hero-grid">
      <div class="hero-text">
        <span class="badge">{{ t().hero.badge }}</span>
        <h1>{{ t().hero.title }}</h1>
        <p>{{ t().hero.text }}</p>
        <div class="cta-group">
          <button class="btn-primary" (click)="scrollToSolutions()">{{ t().hero.btnPrimary }}</button>
          <button class="btn-outline" (click)="openModal('Falar com Especialista')">{{ t().hero.btnOutline }}</button>
        </div>
      </div>
      <div class="hero-image-placeholder">
         <img src="all4secshield.png" alt="Escudo de Segurança" style="max-width: 100%; opacity: 0.8;">
      </div>
    </div>
  </header>

  <section class="solutions" id="solutions">
    <h2>{{ t().solutions.title }}</h2>
    
    <div class="solution-grid">
      @for (solutions of t().solutions.items; track solutions.title) {
        <div class="solution-card">
          <div class="card-icon">{{ solutions.icon }}</div>
          <h3>{{ solutions.title }}</h3>
          <p>{{ solutions.description }}</p>
          <a (click)="openModal(solutions.title)" class="card-link" style="cursor: pointer">{{ solutions.cta }}</a>
        </div>
      }
    </div>
  </section>

  <section class="product-list">
    <div class="product-container">
      <h2>{{ t().products.title }}</h2>
      <div class="table-responsive">
        <table class="digicert-table">
          <thead>
            <tr>
              @for (header of t().products.headers; track header) {
                <th>{{ header }}</th>
              }
            </tr>
          </thead>
          <tbody>
            @for (prod of t().products.items; track prod.name) {
              <tr>
                <td><span class="tag-category">{{ prod.category }}</span></td>
                <td><strong>{{ prod.name }}</strong></td>
                <td>{{ prod.description }}</td>
                <td><button class="btn-sm" (click)="openModal(prod.name)">{{ t().products.btnTable }}</button></td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    </div>
  </section>

  <footer class="main-footer">
    <div class="footer-grid">
      <div class="footer-col">
        <a href="https://www.digicert.com/" target="_blank">
          <img src="digicert.svg" width="120" alt="DigiCert Logo">
        </a>
        <p style="margin-top: 15px; white-space: pre-line;">{{ t().footer.text }}</p>
      </div>
      <div class="footer-col">
        <h4>{{ t().footer.certs }}</h4>
        <ul>
          <li>EV Code Signing</li>
          <li>Standard SSL</li>
          <li>Wildcard SSL</li>
          <li>Secure Site Pro</li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>{{ t().footer.support }}</h4>
        <ul>
          <li>{{ t().footer.install }}</li>
          <li>{{ t().footer.renew }}</li>
          <li>{{ t().footer.valid }}</li>
        </ul>
      </div>
    </div>
  </footer>

  @if (isModalOpen) {
    <div class="modal-overlay" (click)="closeModal()">
      <div class="modal-content" (click)="$event.stopPropagation()">
        <button class="modal-close" (click)="closeModal()">×</button>
        
        <div class="modal-header">
          <h3>{{ t().modal.title }}</h3>
          <p>{{ t().modal.subtitle }}</p>
        </div>

        <form (ngSubmit)="submitForm()">
          <div class="form-group">
            <label>{{ t().modal.name }}</label>
            <input type="text" [(ngModel)]="formData.name" name="name" required>
          </div>

          <div class="form-group">
            <label>{{ t().modal.company }}</label>
            <input type="text" [(ngModel)]="formData.company" name="company">
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>{{ t().modal.email }}</label>
              <input type="email" [(ngModel)]="formData.email" name="email" required>
            </div>
            <div class="form-group">
              <label>{{ t().modal.phone }}</label>
              <input type="tel" [(ngModel)]="formData.phone" name="phone" required>
            </div>
          </div>

          <div class="form-group">
            <label>{{ t().modal.interest }}</label>
            <input type="text" [(ngModel)]="formData.interest" name="interest" readonly style="background: #f0f0f0;">
          </div>

          <button type="submit" class="btn-submit">{{ t().modal.submit }}</button>
        </form>
      </div>
    </div>
  }
</div>